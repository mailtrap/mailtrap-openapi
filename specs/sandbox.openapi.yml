openapi: 3.1.0
info:
  description: API for Mailtrap.io Sandbox functionality
  version: 2.0-oas3
  title: Sandbox API
  contact:
    name: Mailtrap
    url: 'https://docs.mailtrap.io'
    email: support@mailtrap.io
  license:
    name: Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)
    url: 'https://creativecommons.org/licenses/by-sa/4.0/'
security:
  - HeaderAuth: []
  - BearerAuth: []
servers:
  - description: Mailtrap Sandbox API
    url: 'https://mailtrap.io'
tags:
  - name: sandbox-api
    x-page-title: Email Sandbox API
    x-page-description: Test email sending in a safe environment
    description: |
      ## Email Sandbox API

      Test email functionality without sending to real recipients. Perfect for development, staging, and QA environments.

      {% hint style="info" %}
      **Key Features**: Email capture, content inspection, spam scoring, attachment handling, team collaboration
      {% endhint %}

      ### Getting Started

      {% tabs %}
      {% tab title="Projects" %}
      **Organize Your Tests:**
      - Create projects for different environments
      - Group inboxes by application or feature
      - Share with team members for collaboration
      {% endtab %}

      {% tab title="Inboxes" %}
      **Test Email Capture:**
      - Create multiple test inboxes
      - Unique SMTP credentials per inbox
      - API access for automation
      {% endtab %}

      {% tab title="Messages" %}
      **Email Inspection:**
      - View HTML/text content
      - Check headers and attachments
      - Analyze spam scores
      - Forward for manual review
      {% endtab %}
      {% endtabs %}

  - name: Projects
    x-parent: sandbox-api
    x-page-title: Projects
    x-page-description: Organize test environments
    description: Interactions with projects

  - name: Inboxes
    x-parent: sandbox-api
    x-page-title: Inboxes
    x-page-description: Manage test inboxes
    description: Interactions with inboxes

  - name: Messages
    x-parent: sandbox-api
    x-page-title: Messages
    x-page-description: Inspect captured emails
    description: Interactions with messages

  - name: Attachments
    x-parent: sandbox-api
    x-page-title: Attachments
    x-page-description: Handle email attachments
    description: Interactions with attachments

  - name: Test Emails
    x-parent: sandbox-api
    x-page-title: Send Test Emails
    x-page-description: Send emails to sandbox
    description: Test Emails
paths:
  '/api/accounts/{account_id}/projects':
    post:
      summary: Create project
      description: The project name is min 2 characters and max 100 characters long.
      tags:
        - Projects
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                project:
                  type: object
                  properties:
                    name:
                      type: string
            example:
              project:
                name: My New Project
      responses:
        '200':
          $ref: '#/components/responses/ProjectResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
      operationId: createProject
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: "YOUR_API_TOKEN",
              accountId: ACCOUNT_ID
            });

            const project = await client.testing.projects.create({
              name: 'My New Project'
            });

            console.log(project);
        - lang: php
          label: PHP
          source: |
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config('YOUR_API_TOKEN');
            $client = new MailtrapSandboxClient($config);

            $project = $client->projects($accountId)->create([
                'project' => ['name' => 'My New Project']
            ]);

            var_dump($project);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_TOKEN",
                account_id=ACCOUNT_ID
            )

            project = client.testing_api.projects.create(
                project_params=mt.ProjectParams(name="My New Project")
            )

            print(project)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_TOKEN')

            project = client.sandbox.projects.create(
              account_id: account_id,
              name: 'My New Project'
            )

            puts project
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_TOKEN");

            var project = await client
                .Account(accountId)
                .Projects()
                .Create(new CreateProjectRequest("My New Project"));

            Console.WriteLine(project.Name);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.projects.CreateUpdateProjectRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_TOKEN")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config)
                .testingApi();

            var request = new CreateUpdateProjectRequest(
                new CreateUpdateProjectRequest.ProjectData("My New Project")
            );

            var project = client.projects()
                .createProject(accountId, request);

            System.out.println(project);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X POST https://mailtrap.io/api/accounts/{account_id}/projects \
              -H 'Authorization: Bearer YOUR_API_KEY' \
              -H 'Content-Type: application/json' \
              -d '{
                "project": {
                  "name": "My New Project"
                }
              }'
    get:
      summary: Get a list of projects
      description: List projects and their inboxes to which the API token has access.
      tags:
        - Projects
      responses:
        '200':
          $ref: '#/components/responses/ProjectsResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
      operationId: getProjects
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: "YOUR_API_TOKEN",
              accountId: ACCOUNT_ID
            });

            const projects = await client.testing.projects.getList();

            projects.forEach(project => {
              console.log(`Project: ${project.name}, ID: ${project.id}`);
            });
        - lang: php
          label: PHP
          source: |
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config('YOUR_API_TOKEN');
            $client = new MailtrapSandboxClient($config);

            $projects = $client->projects($accountId)->getList();

            foreach ($projects as $project) {
                echo "Project: {$project['name']}, ID: {$project['id']}\n";
            }
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_TOKEN",
                account_id=ACCOUNT_ID
            )

            projects = client.testing_api.projects.get_list()

            for project in projects:
                print(f"Project: {project.name}, ID: {project.id}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_TOKEN')

            projects = client.sandbox.projects.list(account_id: account_id)

            projects.each do |project|
              puts "Project: #{project.name}, ID: #{project.id}"
            end
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_TOKEN");

            var projects = await client
                .Account(accountId)
                .Projects()
                .GetAll();

            foreach (var project in projects)
            {
                Console.WriteLine($"Project: {project.Name}, ID: {project.Id}");
            }
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_TOKEN")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config)
                .testingApi();

            var projects = client.projects().getProjects(accountId);

            for (var project : projects) {
                System.out.println("Project: " + project.getName() +
                                   ", ID: " + project.getId());
            }
        - lang: shell
          label: 'cURL'
          source: |
            curl -X GET https://mailtrap.io/api/accounts/{account_id}/projects \
              -H 'Authorization: Bearer YOUR_API_KEY'
    parameters:
      - $ref: '#/components/parameters/account_id'
  '/api/accounts/{account_id}/projects/{project_id}':
    get:
      summary: Get project by ID
      description: Get the project and its inboxes.
      tags:
        - Projects
      responses:
        '200':
          $ref: '#/components/responses/ProjectResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: getProject
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: process.env.MAILTRAP_API_KEY,
              accountId: YOUR_ACCOUNT_ID
            });

            const projectId = 12345;
            const project = await client.testing.projects.get(projectId);

            console.log("Project:", project);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxProjects = (new MailtrapSandboxClient($config))
                ->projects($accountId);

            $projectId = 12345;
            $response = $sandboxProjects->getById($projectId);
            $project = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_KEY",
                account_id=YOUR_ACCOUNT_ID
            )

            # Get project by ID
            project_id = 12345
            project = client.testing_api.projects.get_by_id(project_id)

            print(f"Project: {project.name}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            projects = Mailtrap::ProjectsAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            # Get project by ID
            project_id = 12345
            project = projects.get(project_id)

            puts "Project: #{project.name}"
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var projectId = 12345;
            var projectResource = accountResource.Project(projectId);

            var project = await projectResource.GetDetails();

            Console.WriteLine($"Project: {project.Name}");
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long projectId = 12345L;
            var project = client.testingApi().projects()
                .getProject(ACCOUNT_ID, projectId);

            System.out.println("Project: " + project.getName());
        - lang: shell
          label: 'cURL'
          source: |
            curl -X GET https://mailtrap.io/api/accounts/{account_id}/projects/{project_id} \
              -H 'Authorization: Bearer YOUR_API_KEY'
    patch:
      summary: Update project
      description: Update project name. The project name is min 2 characters and max 100 characters long.
      tags:
        - Projects
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: process.env.MAILTRAP_API_KEY,
              accountId: YOUR_ACCOUNT_ID
            });

            const projectId = 12345;
            const updatedProject = await client.testing.projects.update(
              projectId,
              "Updated Project Name"
            );

            console.log("Project updated:", updatedProject);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxProjects = (new MailtrapSandboxClient($config))
                ->projects($accountId);

            $projectId = 12345;
            $newProjectName = 'Updated Project Name';

            $response = $sandboxProjects->updateName($projectId, $newProjectName);
            $project = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_KEY",
                account_id=YOUR_ACCOUNT_ID
            )

            # Update project
            project_id = 12345
            updated_project = client.testing_api.projects.update(
                project_id,
                mt.ProjectParams(name="Updated Project Name")
            )

            print(f"Project updated: {updated_project.name}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            projects = Mailtrap::ProjectsAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            # Update project
            project_id = 12345
            updated_project = projects.update(
              project_id,
              name: 'Updated Project Name'
            )

            puts "Project updated: #{updated_project.name}"
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            using Mailtrap.Projects.Requests;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var projectId = 12345;
            var projectResource = accountResource.Project(projectId);

            var updateRequest = new UpdateProjectRequest("Updated Project Name");
            var updatedProject = await projectResource.Update(updateRequest);

            Console.WriteLine($"Project updated: {updatedProject.Name}");
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.projects.CreateUpdateProjectRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long projectId = 12345L;
            var request = new CreateUpdateProjectRequest(
                new CreateUpdateProjectRequest.ProjectData("Updated Project Name")
            );

            var updatedProject = client.testingApi().projects()
                .updateProject(ACCOUNT_ID, projectId, request);

            System.out.println("Project updated: " + updatedProject.getName());
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/projects/{project_id} \
              -H 'Authorization: Bearer YOUR_API_KEY' \
              -H 'Content-Type: application/json' \
              -d '{
                "project": {
                  "name": "Updated Project Name"
                }
              }'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                project:
                  type: object
                  properties:
                    name:
                      type: string
            example:
              project:
                name: New Project Name
      responses:
        '200':
          $ref: '#/components/responses/UpdateProjectResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: updateProject
    delete:
      summary: Delete project
      description: Delete project and its inboxes.
      tags:
        - Projects
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: process.env.MAILTRAP_API_KEY,
              accountId: YOUR_ACCOUNT_ID
            });

            const projectId = 12345;
            const result = await client.testing.projects.delete(projectId);

            console.log("Project deleted:", result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxProjects = (new MailtrapSandboxClient($config))
                ->projects($accountId);

            $projectId = 12345;
            $response = $sandboxProjects->delete($projectId);

            // Returns HTTP 200 with deleted project ID
            var_dump($response->getStatusCode());
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_KEY",
                account_id=YOUR_ACCOUNT_ID
            )

            # Delete project
            project_id = 12345
            result = client.testing_api.projects.delete(project_id)

            print(f"Project deleted: {result.id}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            projects = Mailtrap::ProjectsAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            # Delete project
            project_id = 12345
            result = projects.delete(project_id)

            puts "Project deleted: #{result.id}"
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var projectId = 12345;
            var projectResource = accountResource.Project(projectId);

            var deletedProject = await projectResource.Delete();

            Console.WriteLine($"Project deleted: {deletedProject.Id}");
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long projectId = 12345L;
            var deletedProject = client.testingApi().projects()
                .deleteProject(ACCOUNT_ID, projectId);

            System.out.println("Project deleted: " + deletedProject.getId());
        - lang: shell
          label: 'cURL'
          source: |
            curl -X DELETE https://mailtrap.io/api/accounts/{account_id}/projects/{project_id} \
              -H 'Authorization: Bearer YOUR_API_KEY'
      responses:
        '200':
          description: Returns id of the deleted project.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
              example:
                id: 4046
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: deleteProject
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/project_id'
  '/api/accounts/{account_id}/projects/{project_id}/inboxes':
    post:
      summary: Create an inbox
      description: Create an inbox in a project.
      tags:
        - Inboxes
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                inbox:
                  type: object
                  properties:
                    name:
                      type: string
            example:
              inbox:
                name: My new inbox
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: createInbox
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: "YOUR_API_TOKEN",
              accountId: ACCOUNT_ID
            });

            const inbox = await client.testing.inboxes.create(
              projectId,
              'My Test Inbox'
            );

            console.log(`Inbox created: ${inbox.name}`);
            console.log(`SMTP credentials - User: ${inbox.username}`);
        - lang: php
          label: PHP
          source: |
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config('YOUR_API_TOKEN');
            $client = new MailtrapSandboxClient($config);

            $inbox = $client->inboxes($accountId)->create($projectId, [
                'inbox' => ['name' => 'My Test Inbox']
            ]);

            echo "Inbox created: {$inbox['name']}\n";
            echo "SMTP credentials - User: {$inbox['username']}\n";
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_TOKEN",
                account_id=ACCOUNT_ID
            )

            inbox = client.testing_api.inboxes.create(
                project_id=project_id,
                inbox_params=mt.InboxParams(name="My Test Inbox")
            )

            print(f"Inbox created: {inbox.name}")
            print(f"SMTP credentials - User: {inbox.username}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_TOKEN')

            inbox = client.sandbox.inboxes.create(
              account_id: account_id,
              project_id: project_id,
              name: 'My Test Inbox'
            )

            puts "Inbox created: #{inbox.name}"
            puts "SMTP credentials - User: #{inbox.username}"
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_TOKEN");

            var inbox = await client
                .Account(accountId)
                .Project(projectId)
                .Inboxes()
                .Create(new CreateInboxRequest("My Test Inbox"));

            Console.WriteLine($"Inbox created: {inbox.Name}");
            Console.WriteLine($"SMTP credentials - User: {inbox.Username}");
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.inbox.CreateInboxRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_TOKEN")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config)
                .testingApi();

            var request = new CreateInboxRequest(
                new CreateInboxRequest.InboxData("My Test Inbox")
            );

            var inbox = client.inboxes()
                .createInbox(accountId, projectId, request);

            System.out.println("Inbox created: " + inbox.getName());
            System.out.println("SMTP credentials - User: " + inbox.getUsername());
        - lang: shell
          label: 'cURL'
          source: |
            curl -X POST https://mailtrap.io/api/accounts/{account_id}/projects/{project_id}/inboxes \
              -H 'Authorization: Bearer YOUR_API_KEY' \
              -H 'Content-Type: application/json' \
              -d '{
                "inbox": {
                  "name": "My Test Inbox"
                }
              }'
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/project_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}':
    get:
      summary: Get inbox attributes
      description: Get inbox attributes by inbox id. See the list of attributes in the example
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const inboxAttributes = await client.testing.inboxes.getInboxAttributes(inboxId);

            console.log(inboxAttributes);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->getInboxAttributes($inboxId);
            $inboxAttributes = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            inbox_attributes = inboxes_api.get_by_id(inbox_id)

            print(inbox_attributes)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            inbox_attributes = inboxes.get_inbox_attributes(inbox_id)

            puts inbox_attributes
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var inboxDetails = await inboxResource.GetDetails();

            Console.WriteLine(inboxDetails);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var inboxAttributes = client.testingApi().inboxes()
                .getInboxAttributes(ACCOUNT_ID, inboxId);

            System.out.println(inboxAttributes);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X GET https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id} \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: getInboxAttributes
    delete:
      summary: Delete an inbox
      description: Delete an inbox with all its emails.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.delete(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->delete($inboxId);

            var_dump($response->getStatusCode());
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.delete(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.delete(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var deletedInbox = await inboxResource.Delete();

            Console.WriteLine(deletedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var deletedInbox = client.testingApi().inboxes()
                .deleteInbox(ACCOUNT_ID, inboxId);

            System.out.println(deletedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X DELETE https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id} \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: deleteInbox
    patch:
      summary: Update an inbox
      description: 'Update inbox name, inbox email username.'
      tags:
        - Inboxes
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                inbox:
                  type: object
                  properties:
                    name:
                      type: string
                    email_username:
                      type: string
            example:
              inbox:
                name: New Inbox Name
                email_username: my-username
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const updatedInbox = await client.testing.inboxes.updateInbox(
              inboxId,
              { name: 'Updated Inbox Name', emailUsername: 'new-username' }
            );

            console.log(updatedInbox);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\DTO\Request\Inbox;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->update(
                $inboxId,
                new Inbox('Updated Inbox Name', 'new-username')
            );

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            updated_inbox = inboxes_api.update(
                inbox_id,
                mt.UpdateInboxParams(name="Updated Inbox Name", email_username="new-username")
            )

            print(updated_inbox)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            updated_inbox = inboxes.update(
              inbox_id,
              name: 'Updated Inbox Name',
              email_username: 'new-username'
            )

            puts updated_inbox
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            using Mailtrap.Inboxes.Requests;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var updateRequest = new UpdateInboxRequest
            {
                Name = "Updated Inbox Name",
                EmailUsername = "new-username"
            };

            var updatedInbox = await inboxResource.Update(updateRequest);

            Console.WriteLine(updatedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.inboxes.UpdateInboxRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var updateRequest = new UpdateInboxRequest(
                new UpdateInboxRequest.InboxUpdateData("Updated Inbox Name", "new-username")
            );

            var updatedInbox = client.testingApi().inboxes()
                .updateInbox(ACCOUNT_ID, inboxId, updateRequest);

            System.out.println(updatedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id} \
              -H 'Authorization: Bearer YOUR_API_KEY' \
              -H 'Content-Type: application/json' \
              -d '{
                "inbox": {
                  "name": "Updated Inbox Name",
                  "email_username": "new-username"
                }
              }'
      operationId: updateInbox
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/clean':
    patch:
      summary: Clean inbox
      description: Delete all messages (emails) from inbox.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.clean(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->clean($inboxId);

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.clean(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.clean(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var cleanedInbox = await inboxResource.Clean();

            Console.WriteLine(cleanedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var cleanedInbox = client.testingApi().inboxes()
                .cleanInbox(ACCOUNT_ID, inboxId);

            System.out.println(cleanedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/clean \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: cleanInbox
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/all_read':
    patch:
      summary: Mark as read
      description: Mark all messages in the inbox as read.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.markAsRead(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->markAsRead($inboxId);

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.mark_as_read(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.mark_as_read(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var markedInbox = await inboxResource.MarkAsRead();

            Console.WriteLine(markedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var markedInbox = client.testingApi().inboxes()
                .markAsRead(ACCOUNT_ID, inboxId);

            System.out.println(markedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/all_read \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: markAsReadInbox
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/reset_credentials':
    patch:
      summary: Reset credentials
      description: Reset SMTP credentials of the inbox.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.resetCredentials(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->resetSmtpCredentials($inboxId);

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.reset_credentials(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.reset_credentials(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var updatedInbox = await inboxResource.ResetCredentials();

            Console.WriteLine(updatedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var updatedInbox = client.testingApi().inboxes()
                .resetCredentials(ACCOUNT_ID, inboxId);

            System.out.println(updatedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/reset_credentials \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: resetInboxCredentials
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/toggle_email_username':
    patch:
      summary: Enable email address
      description: Turn the email address of the inbox on/off.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.enableEmailAddress(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->toggleEmailAddress($inboxId);

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.enable_email_address(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.enable_email_address(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var updatedInbox = await inboxResource.ToggleEmailAddress();

            Console.WriteLine(updatedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var updatedInbox = client.testingApi().inboxes()
                .enableEmailAddress(ACCOUNT_ID, inboxId);

            System.out.println(updatedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/toggle_email_username \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: enableInboxEmailAddresses
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/reset_email_username':
    patch:
      summary: Reset email address
      description: Reset username of email address per inbox.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const result = await client.testing.inboxes.resetEmailAddress(inboxId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $inboxId = 12345;
            $response = $sandboxInboxes->resetEmailAddress($inboxId);

            $inbox = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inbox_id = 12345
            result = inboxes_api.reset_email_username(inbox_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inbox_id = 12345
            result = inboxes.reset_email_username(inbox_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxId = 12345;
            var inboxResource = accountResource.Inbox(inboxId);

            var updatedInbox = await inboxResource.ResetEmailAddress();

            Console.WriteLine(updatedInbox);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            var updatedInbox = client.testingApi().inboxes()
                .resetEmailAddresses(ACCOUNT_ID, inboxId);

            System.out.println(updatedInbox);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X PATCH https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/reset_email_username \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: resetEmailUserNamePerInbox
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes':
    get:
      summary: Get a list of inboxes
      description: Get a list of inboxes.
      tags:
        - Inboxes
      responses:
        '200':
          $ref: '#/components/responses/InboxesResponse'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxes = await client.testing.inboxes.getList();

            console.log(inboxes);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];

            $sandboxInboxes = (new MailtrapSandboxClient($config))
                ->inboxes($accountId);

            $response = $sandboxInboxes->getList();
            $inboxes = ResponseHelper::toArray($response);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            inboxes_api = client.testing_api.inboxes

            inboxes = inboxes_api.get_list()

            print(inboxes)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            inboxes = Mailtrap::InboxesAPI.new(
              YOUR_ACCOUNT_ID,
              client
            )

            inboxes_list = inboxes.get_list

            puts inboxes_list
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var accountResource = client.Account(accountId);

            var inboxesResource = accountResource.Inboxes();
            var inboxes = await inboxesResource.GetAll();

            Console.WriteLine(inboxes);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            var inboxes = client.testingApi().inboxes()
                .getInboxes(ACCOUNT_ID);

            System.out.println(inboxes);
        - lang: shell
          label: 'cURL'
          source: |
            curl -X GET https://mailtrap.io/api/accounts/{account_id}/inboxes \
              -H 'Authorization: Bearer YOUR_API_KEY'
      operationId: getInboxes
    parameters:
      - $ref: '#/components/parameters/account_id'
  '/api/send/{inbox_id}':
    servers:
      - description: Mailtrap Sandbox API mail server
        url: 'https://sandbox.api.mailtrap.io'
    post:
      description: Send email message to the specified inbox.
      operationId: sendEmail
      summary: Send email (including templates)
      tags:
        - Test Emails
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: "YOUR_API_TOKEN",
              testInboxId: TEST_INBOX_ID,
              sandbox: true
            });

            await client.send({
              from: { email: "test@example.com", name: "Test Sender" },
              to: [{ email: "user@example.com", name: "Test User" }],
              subject: "Test Email",
              text: "This is a test email for sandbox.",
              html: "<p>This is a <b>test email</b> for sandbox.</p>"
            });
        - lang: php
          label: PHP
          source: |
            use Mailtrap\Config;
            use Mailtrap\EmailHeader\CategoryHeader;
            use Mailtrap\MailtrapClient;
            use Symfony\Component\Mime\Address;
            use Symfony\Component\Mime\Email;

            $apiKey = 'YOUR_API_KEY';
            $mailtrap = new MailtrapClient(new Config($apiKey));

            $email = (new Email())
                ->from(new Address('test@example.com', 'Test Sender'))
                ->to(new Address('user@example.com', 'Test User'))
                ->subject('Test Email')
                ->text('This is a test email for sandbox.')
                ->html('<p>This is a <b>test email</b> for sandbox.</p>')
                ->addTextHeader('X-MT-Category', 'test');

            $response = $mailtrap->sandbox()
                ->inboxes(TEST_INBOX_ID)
                ->emails()
                ->send($email);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_TOKEN",
                sandbox=True,
                inbox_id=TEST_INBOX_ID
            )

            mail = mt.Mail(
                sender=mt.Address(email="test@example.com", name="Test Sender"),
                to=[mt.Address(email="user@example.com", name="Test User")],
                subject="Test Email",
                text="This is a test email for sandbox.",
                html="<p>This is a <b>test email</b> for sandbox.</p>"
            )

            client.send(mail)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_TOKEN')

            mail = Mailtrap::Mail.new(
              from: { email: 'test@example.com', name: 'Test Sender' },
              to: [{ email: 'user@example.com', name: 'Test User' }],
              subject: 'Test Email',
              text: 'This is a test email for sandbox.',
              html: '<p>This is a <b>test email</b> for sandbox.</p>'
            )

            client.sandbox.send(mail, inbox_id: TEST_INBOX_ID)
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_TOKEN");

            var email = new Email
            {
                From = new Address("test@example.com", "Test Sender"),
                To = new[] { new Address("user@example.com", "Test User") },
                Subject = "Test Email",
                Text = "This is a test email for sandbox.",
                Html = "<p>This is a <b>test email</b> for sandbox.</p>"
            };

            await client.Sandbox
                .Inbox(TEST_INBOX_ID)
                .Emails()
                .Send(email);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.emails.Address;
            import io.mailtrap.model.request.emails.MailtrapMail;
            import java.util.List;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_TOKEN")
                .inboxId(TEST_INBOX_ID)
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            var mail = MailtrapMail.builder()
                .from(new Address("Test Sender", "test@example.com"))
                .to(List.of(new Address("Test User", "user@example.com")))
                .subject("Test Email")
                .text("This is a test email for sandbox.")
                .html("<p>This is a <b>test email</b> for sandbox.</p>")
                .build();

            client.testingApi().emails().send(mail, config.getInboxId());
        - lang: shell
          label: 'cURL'
          source: |
            curl -X POST https://sandbox.api.mailtrap.io/api/send/{inbox_id} \
              -H 'Authorization: Bearer YOUR_API_KEY' \
              -H 'Content-Type: application/json' \
              -d '{
                "from": {"email": "sender@example.com"},
                "to": [{"email": "recipient@example.com"}],
                "subject": "Test Email",
                "text": "This is a test email sent to sandbox"
              }'
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/EmailWithText'
                - $ref: '#/components/schemas/EmailWithHtml'
                - $ref: '#/components/schemas/EmailWithTextAndHtml'
                - $ref: '#/components/schemas/EmailFromTemplate'
      responses:
        '200':
          description: Success. Message has been delivered.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SentResponse'
        '400':
          description: Bad request. Fix errors listed in response before retrying.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
        '401':
          description: Unauthorized. Make sure you are sending correct credentials with the request before retrying.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
        '429':
          description: Billing plan limit exhausted or inbox rate limit exceeded (see the response for details).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
        '500':
          description: Internal error. Mail was not delivered. Retry later or contact support.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
    parameters:
      - $ref: '#/components/parameters/inbox_id'
  '/api/batch/{inbox_id}':
    servers:
      - description: Mailtrap Sandbox API mail server
        url: 'https://sandbox.api.mailtrap.io'
    post:
      description: |
        Batch send email (text, html, text&html, templates). Please note that the endpoint will return a 200-level http status, even when sending for individual messages may fail. Users of this endpoint should check the success and errors for each message in the response (the results are ordered the same as the original messages - `requests`). Please note that the endpoint accepts up to 500 messages per API call, and up to 50 MB payload size, including attachments.
      operationId: batchSendEmail
      summary: Batch send email (including templates)
      tags:
        - Test Emails
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const TEST_INBOX_ID = 12345;

            const client = new MailtrapClient({
              token: TOKEN,
              sandbox: true,
              testInboxId: TEST_INBOX_ID
            });

            client.batchSend({
              base: {
                from: { name: "Test Sender", email: "sender@example.com" },
                subject: "Batch Email",
                text: "Batch email content"
              },
              requests: [
                {
                  to: [{ email: "recipient1@example.com" }],
                  custom_variables: { user_id: 1 }
                },
                {
                  to: [{ email: "recipient2@example.com" }],
                  custom_variables: { user_id: 2 }
                }
              ]
            })
              .then(console.log)
              .catch(console.error);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\MailtrapClient;
            use Mailtrap\Mime\MailtrapEmail;
            use Symfony\Component\Mime\Address;
            use Mailtrap\Helper\ResponseHelper;

            $mailtrap = MailtrapClient::initSendingEmails(
                apiKey: $_ENV['MAILTRAP_API_KEY'],
                isSandbox: true,
                inboxId: $_ENV['MAILTRAP_INBOX_ID']
            );

            $baseEmail = (new MailtrapEmail())
                ->from(new Address('sender@example.com', 'Test Sender'))
                ->subject('Batch Email')
                ->text('Batch email content');

            $recipientEmails = [
                (new MailtrapEmail())->to(new Address('recipient1@example.com')),
                (new MailtrapEmail())->to(new Address('recipient2@example.com')),
            ];

            $response = $mailtrap->batchSend($recipientEmails, $baseEmail);
            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            INBOX_ID = 12345

            client = mt.MailtrapClient(
                token=API_TOKEN,
                sandbox=True,
                inbox_id=INBOX_ID
            )

            batch_mail = mt.BatchSendEmailParams(
                base=mt.BatchMail(
                    sender=mt.Address(email="sender@example.com", name="Test Sender"),
                    subject="Batch Email",
                    text="Batch email content",
                ),
                requests=[
                    mt.BatchEmailRequest(
                        to=[mt.Address(email="recipient1@example.com")],
                    ),
                    mt.BatchEmailRequest(
                        to=[mt.Address(email="recipient2@example.com")],
                    ),
                ],
            )

            result = client.batch_send(batch_mail)
            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(
              api_key: 'YOUR_API_KEY',
              sandbox: true,
              inbox_id: 12345
            )

            base_mail = {
              from: { email: 'sender@example.com', name: 'Test Sender' },
              subject: 'Batch Email',
              text: 'Batch email content'
            }

            requests = [
              { to: [{ email: 'recipient1@example.com' }] },
              { to: [{ email: 'recipient2@example.com' }] }
            ]

            result = client.batch_send(base: base_mail, requests: requests)
            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            using Mailtrap.Emails.Requests;
            using Mailtrap.Emails.Models;

            var client = new MailtrapClient("YOUR_API_KEY");

            var request = BatchEmailRequest
                .Create()
                .Base(b => b
                    .From("sender@example.com", "Test Sender")
                    .Subject("Batch Email")
                    .Text("Batch email content"))
                .Requests(
                    SendEmailRequest.Create()
                        .To("recipient1@example.com"),
                    SendEmailRequest.Create()
                        .To("recipient2@example.com")
                );

            var response = await client.Sandbox
                .Inbox(TEST_INBOX_ID)
                .BatchEmail()
                .Send(request);

            Console.WriteLine(response);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.emails.Address;
            import io.mailtrap.model.request.emails.MailtrapBatchMail;
            import io.mailtrap.model.request.emails.BatchEmailBase;
            import io.mailtrap.model.request.emails.MailtrapMail;
            import java.util.List;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .inboxId(12345L)
                .build();

            var client = MailtrapClientFactory.createMailtrapClient(config);

            var mail = MailtrapMail.builder()
                .from(new Address("Test Sender", "sender@example.com"))
                .to(List.of(new Address("Recipient", "recipient@example.com")))
                .subject("Batch Email")
                .text("Batch email content")
                .build();

            var batchMail = MailtrapBatchMail.builder()
                .base(BatchEmailBase.builder()
                    .from(new Address("Test Sender", "sender@example.com"))
                    .subject("Batch Email")
                    .build())
                .requests(List.of(mail))
                .build();

            var response = client.testingApi().emails()
                .batchSend(batchMail, config.getInboxId());

            System.out.println(response);
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BatchEmail'
      responses:
        '200':
          description: Success. Check individual `responses` if messages have been delivered.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BatchSentResponse'
        '400':
          description: Bad request. Fix errors listed in response before retrying.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
        '401':
          description: Unauthorized. Make sure you are sending correct credentials with the request before retrying.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
        '500':
          description: Internal error. Messages were not delivered. Retry later or contact support.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailErrorResponse'
    parameters:
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}':
    get:
      summary: Show email message
      description: Get email message by ID.
      tags:
        - Messages
      responses:
        '200':
          description: Returns email message with its attributes.
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/InboxMessageWithoutBlacklistsReportInfo'
                  - $ref: '#/components/schemas/InboxMessageWithBlacklistsReportInfo'
              example:
                id: 2323
                inbox_id: 17002
                subject: Test email
                sent_at: '2022-07-01T19:29:59.295Z'
                from_email: john@mailtrap.io
                from_name: John
                to_email: mary@mailtrap.io
                to_name: Mary
                email_size: 300
                is_read: false
                created_at: '2022-07-01T19:29:59.295Z'
                updated_at: '2022-07-01T19:29:59.295Z'
                html_body_size: 150
                text_body_size: 100
                human_size: 300 Bytes
                html_path: /api/accounts/16297/inboxes/17002/messages/2323/body.html
                txt_path: /api/accounts/16297/inboxes/17002/messages/2323/body.txt
                raw_path: /api/accounts/16297/inboxes/17002/messages/2323/body.raw
                download_path: /api/accounts/16297/inboxes/17002/messages/2323/body.eml
                html_source_path: /api/accounts/16297/inboxes/17002/messages/2323/body.htmlsource
                blacklists_report_info: false
                smtp_information:
                  ok: true
                  data:
                    mail_from_addr: john@mailtrap.io
                    client_ip: 193.62.62.184
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const messageId = 67890;

            const message = await client.testing.messages.showEmailMessage(inboxId, messageId);

            console.log(message);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];
            $inboxId = (int) $_ENV['MAILTRAP_INBOX_ID'];

            $sandboxMessages = (new MailtrapSandboxClient($config))
                ->messages($accountId, $inboxId);

            $messageId = 67890;
            $response = $sandboxMessages->getById($messageId);

            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            messages_api = client.testing_api.messages

            inbox_id = 12345
            message_id = 67890

            message = messages_api.show_message(inbox_id=inbox_id, message_id=message_id)

            print(message)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(
              YOUR_ACCOUNT_ID,
              YOUR_INBOX_ID,
              client
            )

            message_id = 67890
            message = messages.show_message(message_id)

            puts message
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");

            var accountId = 12345;
            var inboxId = 54321;
            var messageId = 67890;

            var messageResource = client.Account(accountId)
                .Inbox(inboxId)
                .Message(messageId);

            var message = await messageResource.GetDetails();

            Console.WriteLine(message);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            long messageId = 67890L;

            var message = client.testingApi().messages()
                .getMessage(ACCOUNT_ID, inboxId, messageId);

            System.out.println(message);
      operationId: showInboxEmailMessage
    patch:
      summary: Update message
      description: Update message attributes (right now only the **is_read** attribute is available for modification).
      tags:
        - Messages
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: object
                  properties:
                    is_read:
                      type: string
            example:
              message:
                is_read: 'false'
      responses:
        '200':
          description: Returns attributes of the updated message.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  inbox_id:
                    type: integer
                  subject:
                    type: string
                  sent_at:
                    type: string
                  from_email:
                    type: string
                  from_name:
                    type: string
                  to_email:
                    type: string
                  to_name:
                    type: string
                  email_size:
                    type: integer
                  is_read:
                    type: boolean
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  html_body_size:
                    type: integer
                  text_body_size:
                    type: integer
                  human_size:
                    type: string
                  html_path:
                    type: string
                  txt_path:
                    type: string
                  raw_path:
                    type: string
                  download_path:
                    type: string
                  html_source_path:
                    type: string
                  blacklists_report_info:
                    type: boolean
                  smtp_information:
                    type: object
                    properties:
                      ok:
                        type: boolean
                      data:
                        type: object
                        properties:
                          mail_from_addr:
                            type: string
                          client_ip:
                            type: string
              example:
                id: 427
                inbox_id: 4324
                subject: Test email
                sent_at: '2022-06-02T19:24:08.941Z'
                from_email: john@mailtrap.io
                from_name: John
                to_email: mary@mailtrap.io
                to_name: Mary
                email_size: 300
                is_read: false
                created_at: '2022-06-02T19:24:08.942Z'
                updated_at: '2022-06-02T19:24:08.942Z'
                html_body_size: 150
                text_body_size: 100
                human_size: 300 Bytes
                html_path: /api/accounts/3761/inboxes/4324/messages/427/body.html
                txt_path: /api/accounts/3761/inboxes/4324/messages/427/body.txt
                raw_path: /api/accounts/3761/inboxes/4324/messages/427/body.raw
                download_path: /api/accounts/3761/inboxes/4324/messages/427/body.eml
                html_source_path: /api/accounts/3761/inboxes/4324/messages/427/body.htmlsource
                blacklists_report_info: false
                smtp_information:
                  ok: true
                  data:
                    mail_from_addr: john@mailtrap.io
                    client_ip: 193.62.62.184
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const messageId = 67890;

            const updatedMessage = await client.testing.messages.updateMessage(
              inboxId,
              messageId,
              { isRead: true }
            );

            console.log(updatedMessage);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];
            $inboxId = (int) $_ENV['MAILTRAP_INBOX_ID'];

            $sandboxMessages = (new MailtrapSandboxClient($config))
                ->messages($accountId, $inboxId);

            $messageId = 67890;
            $response = $sandboxMessages->markAsRead($messageId);

            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            messages_api = client.testing_api.messages

            inbox_id = 12345
            message_id = 67890

            updated_message = messages_api.update(
                inbox_id=inbox_id,
                message_id=message_id,
                message_params=mt.UpdateEmailMessageParams(is_read=True)
            )

            print(updated_message)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(
              YOUR_ACCOUNT_ID,
              YOUR_INBOX_ID,
              client
            )

            message_id = 67890
            updated_message = messages.update(message_id, is_read: true)

            puts updated_message
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            using Mailtrap.TestingMessages.Requests;

            var client = new MailtrapClient("YOUR_API_KEY");

            var accountId = 12345;
            var inboxId = 54321;
            var messageId = 67890;

            var messageResource = client.Account(accountId)
                .Inbox(inboxId)
                .Message(messageId);

            var updateRequest = new UpdateTestingMessageRequest(true);
            var updatedMessage = await messageResource.Update(updateRequest);

            Console.WriteLine(updatedMessage);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.messages.UpdateMessageRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            long messageId = 67890L;

            var updateRequest = new UpdateMessageRequest(
                new UpdateMessageRequest.MessageUpdateData("true")
            );

            var updatedMessage = client.testingApi().messages()
                .updateMessage(ACCOUNT_ID, inboxId, messageId, updateRequest);

            System.out.println(updatedMessage);
      operationId: updateInboxEmailMessage
    delete:
      summary: Delete message
      description: Delete message from inbox.
      tags:
        - Messages
      responses:
        '200':
          description: Returns attributes of the deleted message.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  inbox_id:
                    type: integer
                  subject:
                    type: string
                  sent_at:
                    type: string
                  from_email:
                    type: string
                  from_name:
                    type: string
                  to_email:
                    type: string
                  to_name:
                    type: string
                  email_size:
                    type: integer
                  is_read:
                    type: boolean
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  html_body_size:
                    type: integer
                  text_body_size:
                    type: integer
                  human_size:
                    type: string
                  html_path:
                    type: string
                  txt_path:
                    type: string
                  raw_path:
                    type: string
                  download_path:
                    type: string
                  html_source_path:
                    type: string
                  blacklists_report_info:
                    type: boolean
                  smtp_information:
                    type: object
                    properties:
                      ok:
                        type: boolean
                      data:
                        type: object
                        properties:
                          mail_from_addr:
                            type: string
                          client_ip:
                            type: string
              example:
                id: 433
                inbox_id: 4338
                subject: Test email
                sent_at: '2022-06-02T19:24:10.746Z'
                from_email: john@mailtrap.io
                from_name: John
                to_email: mary@mailtrap.io
                to_name: Mary
                email_size: 300
                is_read: false
                created_at: '2022-06-02T19:24:10.747Z'
                updated_at: '2022-06-02T19:24:10.747Z'
                html_body_size: 150
                text_body_size: 100
                human_size: 300 Bytes
                html_path: /api/accounts/3775/inboxes/4338/messages/433/body.html
                txt_path: /api/accounts/3775/inboxes/4338/messages/433/body.txt
                raw_path: /api/accounts/3775/inboxes/4338/messages/433/body.raw
                download_path: /api/accounts/3775/inboxes/4338/messages/433/body.eml
                html_source_path: /api/accounts/3775/inboxes/4338/messages/433/body.htmlsource
                blacklists_report_info: false
                smtp_information:
                  ok: true
                  data:
                    mail_from_addr: john@mailtrap.io
                    client_ip: 193.62.62.184
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const messageId = 67890;

            const result = await client.testing.messages.deleteMessage(inboxId, messageId);

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];
            $inboxId = (int) $_ENV['MAILTRAP_INBOX_ID'];

            $sandboxMessages = (new MailtrapSandboxClient($config))
                ->messages($accountId, $inboxId);

            $messageId = 67890;
            $response = $sandboxMessages->delete($messageId);

            var_dump($response->getStatusCode());
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            messages_api = client.testing_api.messages

            inbox_id = 12345
            message_id = 67890

            result = messages_api.delete(inbox_id=inbox_id, message_id=message_id)

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(
              YOUR_ACCOUNT_ID,
              YOUR_INBOX_ID,
              client
            )

            message_id = 67890
            result = messages.delete(message_id)

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");

            var accountId = 12345;
            var inboxId = 54321;
            var messageId = 67890;

            var messageResource = client.Account(accountId)
                .Inbox(inboxId)
                .Message(messageId);

            var deletedMessage = await messageResource.Delete();

            Console.WriteLine(deletedMessage);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            long messageId = 67890L;

            var deletedMessage = client.testingApi().messages()
                .deleteMessage(ACCOUNT_ID, inboxId, messageId);

            System.out.println(deletedMessage);
      operationId: deleteInboxEmailMessage
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages':
    get:
      summary: Get messages
      description: Get all messages in the inbox. The response contains up to 30 messages. Use `last_id` or `page` to retrieve more.
      tags:
        - Messages
      responses:
        '200':
          description: lists messages
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    inbox_id:
                      type: integer
                    subject:
                      type: string
                    sent_at:
                      type: string
                    from_email:
                      type: string
                    from_name:
                      type: string
                    to_email:
                      type: string
                    to_name:
                      type: string
                    email_size:
                      type: integer
                    is_read:
                      type: boolean
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    html_body_size:
                      type: integer
                    text_body_size:
                      type: integer
                    human_size:
                      type: string
                    html_path:
                      type: string
                    txt_path:
                      type: string
                    raw_path:
                      type: string
                    download_path:
                      type: string
                    html_source_path:
                      type: string
                    blacklists_report_info:
                      type: boolean
                    smtp_information:
                      type: object
                      properties:
                        ok:
                          type: boolean
                        data:
                          type: object
                          properties:
                            mail_from_addr:
                              type: string
                            client_ip:
                              type: string
              example:
                - id: 92
                  inbox_id: 342
                  subject: Test email
                  sent_at: '2022-08-19T11:34:33.839Z'
                  from_email: per667son25@feeney.biz
                  from_name: Ela Marks
                  to_email: per688son26@donnelly.info
                  to_name: Edmund Maggio
                  email_size: 300
                  is_read: false
                  created_at: '2022-08-19T11:34:33.841Z'
                  updated_at: '2022-08-19T11:34:33.841Z'
                  html_body_size: 150
                  text_body_size: 100
                  human_size: 300 Bytes
                  html_path: /api/accounts/336/inboxes/342/messages/92/body.html
                  txt_path: /api/accounts/336/inboxes/342/messages/92/body.txt
                  raw_path: /api/accounts/336/inboxes/342/messages/92/body.raw
                  download_path: /api/accounts/336/inboxes/342/messages/92/body.eml
                  html_source_path: /api/accounts/336/inboxes/342/messages/92/body.htmlsource
                  blacklists_report_info: false
                  smtp_information:
                    ok: true
                    data:
                      mail_from_addr: per667son25@feeney.biz
                      client_ip: 75.180.183.201
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
      operationId: getInboxEmailMessage
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            import { MailtrapClient } from "mailtrap";

            const client = new MailtrapClient({
              token: "YOUR_API_TOKEN",
              accountId: ACCOUNT_ID
            });

            const messages = await client.testing.messages.getList(inboxId);

            messages.forEach(message => {
              console.log(`From: ${message.from_email}`);
              console.log(`Subject: ${message.subject}`);
              console.log(`Received: ${message.created_at}`);
            });
        - lang: php
          label: PHP
          source: |
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;

            $config = new Config('YOUR_API_TOKEN');
            $client = new MailtrapSandboxClient($config);

            $messages = $client->messages($accountId)
                ->getList($inboxId);

            foreach ($messages as $message) {
                echo "From: {$message['from_email']}\n";
                echo "Subject: {$message['subject']}\n";
                echo "Received: {$message['created_at']}\n";
            }
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(
                token="YOUR_API_TOKEN",
                account_id=ACCOUNT_ID
            )

            messages = client.testing_api.messages.get_list(
                inbox_id=inbox_id
            )

            for message in messages:
                print(f"From: {message.from_email}")
                print(f"Subject: {message.subject}")
                print(f"Received: {message.created_at}")
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_TOKEN')

            messages = client.sandbox.messages.list(
              account_id: account_id,
              inbox_id: inbox_id
            )

            messages.each do |message|
              puts "From: #{message.from_email}"
              puts "Subject: #{message.subject}"
              puts "Received: #{message.created_at}"
            end
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_TOKEN");

            var messages = await client
                .Account(accountId)
                .Inbox(inboxId)
                .Messages()
                .GetAll();

            foreach (var message in messages)
            {
                Console.WriteLine($"From: {message.FromEmail}");
                Console.WriteLine($"Subject: {message.Subject}");
                Console.WriteLine($"Received: {message.CreatedAt}");
            }
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_TOKEN")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config)
                .testingApi();

            var messages = client.messages()
                .getMessages(accountId, inboxId);

            for (var message : messages) {
                System.out.println("From: " + message.getFromEmail());
                System.out.println("Subject: " + message.getSubject());
                System.out.println("Received: " + message.getCreatedAt());
            }
        - lang: shell
          label: 'cURL'
          source: |
            curl -X GET https://mailtrap.io/api/accounts/{account_id}/inboxes/{inbox_id}/messages \
              -H 'Authorization: Bearer YOUR_API_KEY'
      parameters:
        - schema:
            type: string
            example: welcome
          in: query
          name: search
          description: 'Search query string. Matches `subject`, `to_email`,  and `to_name`.'
        - schema:
            type: number
            example: 123
            minimum: 1
          in: query
          name: last_id
          description: 'If specified, a page of records before `last_id` is  returned. Overrides `page` if both are given.'
        - schema:
            type: number
            example: 5
            minimum: 1
          in: query
          name: page
          description: Page number for paginated results.
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/forward':
    post:
      summary: Forward message
      description: Forward message to an email address. The email address must be confirmed by the recipient in advance.
      tags:
        - Messages
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: jack@mailtrap.io
      responses:
        '200':
          description: Returns confirmation about forwarding.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Your email message has been successfully forwarded
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const TOKEN = "YOUR_API_KEY";
            const ACCOUNT_ID = "YOUR_ACCOUNT_ID";

            const client = new MailtrapClient({ token: TOKEN, accountId: ACCOUNT_ID });

            const inboxId = 12345;
            const messageId = 67890;

            const result = await client.testing.messages.forward(
              inboxId,
              messageId,
              'recipient@example.com'
            );

            console.log(result);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $accountId = (int) $_ENV['MAILTRAP_ACCOUNT_ID'];
            $inboxId = (int) $_ENV['MAILTRAP_INBOX_ID'];

            $sandboxMessages = (new MailtrapSandboxClient($config))
                ->messages($accountId, $inboxId);

            $messageId = 67890;
            $response = $sandboxMessages->forward($messageId, 'recipient@example.com');

            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            API_TOKEN = "YOUR_API_KEY"
            ACCOUNT_ID = "YOUR_ACCOUNT_ID"

            client = mt.MailtrapClient(token=API_TOKEN, account_id=ACCOUNT_ID)
            messages_api = client.testing_api.messages

            inbox_id = 12345
            message_id = 67890

            result = messages_api.forward(
                inbox_id=inbox_id,
                message_id=message_id,
                email="recipient@example.com"
            )

            print(result)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(
              YOUR_ACCOUNT_ID,
              YOUR_INBOX_ID,
              client
            )

            message_id = 67890
            result = messages.forward(message_id, email: 'recipient@example.com')

            puts result
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            using Mailtrap.TestingMessages.Requests;

            var client = new MailtrapClient("YOUR_API_KEY");

            var accountId = 12345;
            var inboxId = 54321;
            var messageId = 67890;

            var messageResource = client.Account(accountId)
                .Inbox(inboxId)
                .Message(messageId);

            var forwardRequest = new ForwardTestingMessageRequest("recipient@example.com");
            var forwardedMessage = await messageResource.Forward(forwardRequest);

            Console.WriteLine(forwardedMessage);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            import io.mailtrap.model.request.messages.ForwardMessageRequest;

            var config = new MailtrapConfig.Builder()
                .token("YOUR_API_KEY")
                .build();

            var client = MailtrapClientFactory
                .createMailtrapClient(config);

            long inboxId = 12345L;
            long messageId = 67890L;

            var forwardRequest = new ForwardMessageRequest("recipient@example.com");
            var forwardedMessage = client.testingApi().messages()
                .forwardMessage(ACCOUNT_ID, inboxId, messageId, forwardRequest);

            System.out.println(forwardedMessage);
      operationId: forwardInboxEmailMessage
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/spam_report':
    get:
      summary: Get message spam score
      description: Get a brief spam report by message ID.
      tags:
        - Messages
      responses:
        '200':
          description: Returns message spam analysis report.
          content:
            application/json:
              schema:
                type: object
                properties:
                  report:
                    type: object
                    properties:
                      ResponseCode:
                        type: integer
                      ResponseMessage:
                        type: string
                      ResponseVersion:
                        type: string
                      Score:
                        type: number
                        format: float
                      Spam:
                        type: boolean
                      Threshold:
                        type: number
                        format: float
                      Details:
                        type: array
                        items:
                          type: object
                          nullable: true
                          properties:
                            Pts:
                              type: number
                              format: float
                            RuleName:
                              type: string
                            Description:
                              type: string
              example:
                report:
                  ResponseCode: 2
                  ResponseMessage: Not spam
                  ResponseVersion: '1.2'
                  Score: 1.2
                  Spam: false
                  Threshold: 5
                  Details:
                    - Pts: 0
                      RuleName: HTML_MESSAGE
                      Description: 'BODY: HTML included in message'
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });

            const spamReport = await client.testing.messages.getSpamScore(12345, 67890);
            console.log(spamReport);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);

            $response = $sandboxMessages->getSpamScore(67890);
            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            spam_report = client.testing_api.messages.get_spam_report(inbox_id=12345, message_id=67890)
            print(spam_report)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)

            spam_report = messages.get_spam_report(67890)
            puts spam_report
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);

            var spamReport = await messageResource.GetSpamReport();
            Console.WriteLine(spamReport);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);

            var spamReport = client.testingApi().messages().getSpamScore(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(spamReport);
      operationId: getInboxEmailMessageSpamReport
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/analyze':
    get:
      summary: Get message HTML analysis
      description: Get a brief HTML report by message ID.
      tags:
        - Messages
      responses:
        '200':
          description: Returns message HTML analysis report.
          content:
            application/json:
              schema:
                type: object
                properties:
                  report:
                    type: object
                    properties:
                      success:
                        type: string
                      errors:
                        type: array
                        items:
                          type: object
                          nullable: true
                          properties:
                            error_line:
                              type: number
                            rule_name:
                              type: string
                            email_clients:
                              type: object
                              properties:
                                desktop:
                                  type: array
                                  items:
                                    type: string
                                mobile:
                                  type: array
                                  items:
                                    type: string
                                web:
                                  type: array
                                  items:
                                    type: string
              example:
                report:
                  status: success
                  errors:
                    - error_line: 15
                      rule_name: style
                      email_clients:
                        desktop:
                          - Notes 6 / 7
                        mobile:
                          - Gmail
                    - error_line: 7
                      rule_name: display
                      email_clients:
                        desktop:
                          - AOL Desktop
                          - IBM Notes 9
                          - Outlook 200003
                          - Outlook 200716
                          - Outlook Express
                          - Postbox
                          - Windows 10 Mail
                          - Windows Live Mail
                        mobile:
                          - Android 4.2.2 Mail
                          - Android 4.4.4 Mail
                          - BlackBerry
                          - Gmail Android app IMAP
                          - Google Inbox Android app
                          - Windows Phone 8 Mail
                          - Yahoo! Mail Android app
                          - Yahoo! Mail iOS app
                        web:
                          - Yahoo! Mail
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");

            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });

            const htmlAnalysis = await client.testing.messages.getHtmlAnalysis(12345, 67890);
            console.log(htmlAnalysis);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;

            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);

            $response = $sandboxMessages->getHtmlAnalysis(67890);
            var_dump(ResponseHelper::toArray($response));
        - lang: python
          label: Python
          source: |
            import mailtrap as mt

            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            html_analysis = client.testing_api.messages.get_html_analysis(inbox_id=12345, message_id=67890)
            print(html_analysis)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'

            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)

            html_analysis = messages.get_html_analysis(67890)
            puts html_analysis
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;

            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);

            var htmlReport = await messageResource.GetHtmlAnalysisReport();
            Console.WriteLine(htmlReport);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;

            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);

            var htmlAnalysis = client.testingApi().messages().getMessageHtmlAnalysis(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(htmlAnalysis);
      operationId: getInboxEmailMessageHTMLAnalysis
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/body.txt':
    get:
      summary: Get text message
      description: 'Get text email body, if it exists.'
      tags:
        - Messages
      responses:
        '200':
          description: Returns message body in txt format.
          content:
            text/plain:
              schema:
                type: string
                example: |
                  Congrats for sending test email with Mailtrap!

                  Inspect it using the tabs above and learn how this email can be improved.
                  Now send your email using our fake SMTP server and integration of your choice!

                  Good luck! Hope it works.
        '401':
          description: Returns unauthorized error message. Check your credentials.
          content:
            text/plain:
              schema:
                type: string
                example: '{"error":"Incorrect API token"}'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            text/plain:
              schema:
                type: string
                example: '{:errors=>"Inbox is not active or you have insufficient permissions"}'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const textBody = await client.testing.messages.getTextMessage(12345, 67890);
            console.log(textBody);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $textBody = ResponseHelper::toString($sandboxMessages->getText(67890));
            var_dump($textBody);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            text_body = client.testing_api.messages.get_text_message(inbox_id=12345, message_id=67890)
            print(text_body)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            text_body = messages.get_text_message(67890)
            puts text_body
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            string textBody = await messageResource.GetTextBody();
            Console.WriteLine(textBody);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            String textBody = client.testingApi().messages().getTextMessage(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(textBody);
      operationId: getInboxEmailMessageBodyAsTxt
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/body.raw':
    get:
      summary: Get raw message
      description: Get raw email body.
      tags:
        - Messages
      responses:
        '200':
          description: Returns raw message body.
          content:
            text/plain:
              schema:
                type: string
                example: |
                  From: Magic Elves <from@example.com>
                  To: Mailtrap Inbox <to@example.com>
                  Subject: You are awesome!
                  Content-Type: multipart/alternative; boundary="boundary-string"

                  --boundary-string
                  Content-Type: text/plain; charset="utf-8"
                  Content-Transfer-Encoding: quoted-printable
                  Content-Disposition: inline

                  Congrats for sending test email with Mailtrap!

                  Inspect it using the tabs above and learn how this email can be improved.
                  Now send your email using our fake SMTP server and integration of your choice!

                  Good luck! Hope it works.

                  --boundary-string
                  Content-Type: text/html; charset="utf-8"
                  Content-Transfer-Encoding: quoted-printable
                  Content-Disposition: inline

                  <!doctype html>
                  <html>
                  <head>
                  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                  </head>
                  <body style="font-family: sans-serif;">
                    <div style="display: block; margin: auto; max-width: 600px;" class="main">
                      <h1 style="font-size: 18px; font-weight: bold; margin-top: 20px">
                        Congrats for sending test email with Mailtrap!
                      </h1>
                      <p>Inspect it using the tabs you see above and learn how this email can be improved.</p>
                      <img
                        alt="Inspect with Tabs"
                        src="https://assets-examples.mailtrap.io/integration-examples/welcome.png"
                        style="width: 100%;"
                      >
                        <p>Now send your email using our fake SMTP server and integration of your choice!</p>
                        <p>Good luck! Hope it works.</p>
                      </div>
                      <!-- Example of invalid for email html/css, will be detected by Mailtrap: -->
                      <style>
                        .main { background-color: white; }
                        a:hover { border-left-width: 1em; min-height: 2em; }
                      </style>
                    </body>
                  </html>

                  --boundary-string--
        '401':
          description: Returns unauthorized error message. Check your credentials.
          content:
            text/plain:
              schema:
                type: string
                example: '{"error":"Incorrect API token"}'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            text/plain:
              schema:
                type: string
                example: '{:errors=>"Inbox is not active or you have insufficient permissions"}'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const rawBody = await client.testing.messages.getRawMessage(12345, 67890);
            console.log(rawBody);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $rawBody = ResponseHelper::toString($sandboxMessages->getRaw(67890));
            var_dump($rawBody);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            raw_body = client.testing_api.messages.get_raw_message(inbox_id=12345, message_id=67890)
            print(raw_body)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            raw_body = messages.get_raw_message(67890)
            puts raw_body
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            string rawBody = await messageResource.AsRaw();
            Console.WriteLine(rawBody);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            String rawBody = client.testingApi().messages().getRawMessage(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(rawBody);
      operationId: getInboxEmailMessageBodyAsRaw
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/body.htmlsource':
    get:
      summary: Get message source
      description: Get HTML source of email.
      tags:
        - Messages
      responses:
        '200':
          description: Returns HTML source of a message.
          content:
            text/html:
              schema:
                type: string
                example: |
                  <!doctype html>
                  <html>
                    <head>
                      <meta http-equiv="Content-Type"
                        content="text/html; charset=UTF-8">
                    </head>
                    <body style="font-family:
                      sans-serif;">
                      <div style="display: block; margin: auto; max-width:
                        600px;" class="main">
                        <h1 style="font-size: 18px; font-weight: bold;
                          margin-top: 20px">Congrats for sending test email with Mailtrap!</h1>
                        <p>Inspect it using the tabs you see above and learn how this email
                          can be improved.
                        </p>
                        <img alt="Inspect with Tabs" src="https://assets-examples.mailtrap.io/integration-examples/welcome.png"
                          style="width: 100%;">
                        <p>Now send your email using our fake SMTP server
                          and integration of your choice!
                        </p>
                        <p>Good luck! Hope it works.</p>
                      </div>
                      <!-- Example of invalid for email html/css, will be detected
                        by Mailtrap: -->
                      <style> .main { background-color: white; } a:hover
                        { border-left-width: 1em; min-height: 2em; }
                      </style>
                    </body>
                  </html>
        '401':
          description: Returns unauthorized error message. Check your credentials.
          content:
            text/plain:
              schema:
                type: string
                example: '{"error":"Incorrect API token"}'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            text/plain:
              schema:
                type: string
                example: '{:errors=>"Inbox is not active or you have insufficient permissions"}'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const htmlSource = await client.testing.messages.getMessageHtmlSource(12345, 67890);
            console.log(htmlSource);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $htmlSource = ResponseHelper::toString($sandboxMessages->getSource(67890));
            var_dump($htmlSource);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            html_source = client.testing_api.messages.get_html_source(inbox_id=12345, message_id=67890)
            print(html_source)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            html_source = messages.get_html_source(67890)
            puts html_source
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            string htmlSource = await messageResource.GetHtmlSource();
            Console.WriteLine(htmlSource);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            String htmlSource = client.testingApi().messages().getMessageSource(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(htmlSource);
      operationId: getInboxEmailMessageBodyAsHtmlSource
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/body.html':
    get:
      summary: Get HTML message
      description: Get formatted HTML email body. Not applicable for plain text emails.
      tags:
        - Messages
      responses:
        '200':
          description: Returns message body in html format.
          content:
            text/html:
              schema:
                type: string
                example: |
                  <!doctype html>
                  <html>
                    <head>
                      <meta http-equiv="Content-Type"
                        content="text/html; charset=UTF-8">
                    </head>
                    <body style="font-family:
                      sans-serif;">
                      <div style="display: block; margin: auto; max-width:
                        600px;" class="main">
                        <h1 style="font-size: 18px; font-weight: bold;
                          margin-top: 20px">Congrats for sending test email with Mailtrap!</h1>
                        <p>Inspect it using the tabs you see above and learn how this email
                          can be improved.
                        </p>
                        <img alt="Inspect with Tabs" src="https://assets-examples.mailtrap.io/integration-examples/welcome.png"
                          style="width: 100%;">
                        <p>Now send your email using our fake SMTP server
                          and integration of your choice!
                        </p>
                        <p>Good luck! Hope it works.</p>
                      </div>
                      <!-- Example of invalid for email html/css, will be detected
                        by Mailtrap: -->
                      <style> .main { background-color: white; } a:hover
                        { border-left-width: 1em; min-height: 2em; }
                      </style>
                    </body>
                  </html>
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const htmlBody = await client.testing.messages.getHtmlMessage(12345, 67890);
            console.log(htmlBody);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $htmlBody = ResponseHelper::toString($sandboxMessages->getHtml(67890));
            var_dump($htmlBody);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            html_body = client.testing_api.messages.get_html_message(inbox_id=12345, message_id=67890)
            print(html_body)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            html_body = messages.get_html_message(67890)
            puts html_body
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            string htmlBody = await messageResource.GetHtmlBody();
            Console.WriteLine(htmlBody);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            String htmlBody = client.testingApi().messages().getHtmlMessage(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(htmlBody);
      operationId: getInboxEmailMessageBodyAsHtml
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/body.eml':
    get:
      summary: Get message as .eml
      description: Get email message in .eml format.
      tags:
        - Messages
      responses:
        '200':
          description: Returns .eml of the message.
          content:
            message/rfc822:
              schema:
                type: string
                format: binary
                example: |
                  From: Magic Elves <from@example.com>
                  To: Mailtrap Inbox <to@example.com>
                  Subject: You are awesome!
                  Content-Type: multipart/alternative; boundary="boundary-string"

                  --boundary-string
                  Content-Type: text/plain; charset="utf-8"
                  Content-Transfer-Encoding: quoted-printable
                  Content-Disposition: inline

                  Congrats for sending test email with Mailtrap!

                  Inspect it using the tabs above and learn how this email can be improved.
                  Now send your email using our fake SMTP server and integration of your choice!

                  Good luck! Hope it works.

                  --boundary-string
                  Content-Type: text/html; charset="utf-8"
                  Content-Transfer-Encoding: quoted-printable
                  Content-Disposition: inline

                  <!doctype html>
                  <html>
                  <head>
                  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                  </head>
                  <body style="font-family: sans-serif;">
                    <div style="display: block; margin: auto; max-width: 600px;" class="main">
                      <h1 style="font-size: 18px; font-weight: bold; margin-top: 20px">
                        Congrats for sending test email with Mailtrap!
                      </h1>
                      <p>Inspect it using the tabs you see above and learn how this email can be improved.</p>
                      <img
                        alt="Inspect with Tabs"
                        src="https://assets-examples.mailtrap.io/integration-examples/welcome.png"
                        style="width: 100%;"
                      >
                        <p>Now send your email using our fake SMTP server and integration of your choice!</p>
                        <p>Good luck! Hope it works.</p>
                      </div>
                      <!-- Example of invalid for email html/css, will be detected by Mailtrap: -->
                      <style>
                        .main { background-color: white; }
                        a:hover { border-left-width: 1em; min-height: 2em; }
                      </style>
                    </body>
                  </html>

                  --boundary-string--
        '401':
          description: Returns unauthorized error message. Check your credentials.
          content:
            text/plain:
              schema:
                type: string
              example: '{"error":"Incorrect API token"}'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            text/plain:
              schema:
                type: string
              example: '{:errors=>"Inbox is not active or you have insufficient permissions"}'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const emlContent = await client.testing.messages.getMessageAsEml(12345, 67890);
            console.log(emlContent);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            use Mailtrap\Helper\ResponseHelper;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $emlContent = ResponseHelper::toString($sandboxMessages->getEml(67890));
            var_dump($emlContent);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            eml_content = client.testing_api.messages.get_message_as_eml(inbox_id=12345, message_id=67890)
            print(eml_content)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            eml_content = messages.get_message_as_eml(67890)
            puts eml_content
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            string emlContent = await messageResource.AsEml();
            Console.WriteLine(emlContent);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            String emlContent = client.testingApi().messages().getMessageAsEml(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(emlContent);
      operationId: getInboxEmailMessageBodyAsEml
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/mail_headers':
    get:
      summary: Get mail headers
      description: Get mail headers of a message
      tags:
        - Messages
      responses:
        '200':
          description: Returns mail headers of the message
          content:
            application/json:
              schema:
                x-examples:
                  Example 1:
                    headers:
                      bcc: john_doe@example.com
                      cc: john_doe@example.com
                      from: john_doe@example.com
                      to: john_doe@example.com
                      subject: Your Example Order Confirmation
                type: object
                properties:
                  headers:
                    type: object
                    description: An object containing key/value pairs of header names and value. The key/value pairs must be strings.
              examples:
                Example 1:
                  value:
                    headers:
                      bcc: john_doe@example.com
                      cc: john_doe@example.com
                      from: john_doe@example.com
                      to: john_doe@example.com
                      subject: Your Example Order Confirmation
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          $ref: '#/components/responses/PERMISSION_DENIED'
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const mailHeaders = await client.testing.messages.getMailHeaders(12345, 67890);
            console.log(mailHeaders);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            $config = new Config($_ENV['MAILTRAP_API_KEY']);
            $sandboxMessages = (new MailtrapSandboxClient($config))->messages((int)$_ENV['MAILTRAP_ACCOUNT_ID'], (int)$_ENV['MAILTRAP_INBOX_ID']);
            $mailHeaders = $sandboxMessages->getMailHeaders(67890);
            var_dump($mailHeaders);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            mail_headers = client.testing_api.messages.get_mail_headers(inbox_id=12345, message_id=67890)
            print(mail_headers)
        - lang: ruby
          label: Ruby
          source: |
            require 'mailtrap'
            client = Mailtrap::Client.new(api_key: 'YOUR_API_KEY')
            messages = Mailtrap::MessagesAPI.new(YOUR_ACCOUNT_ID, YOUR_INBOX_ID, client)
            mail_headers = messages.get_mail_headers(67890)
            puts mail_headers
        - lang: csharp
          label: .NET
          source: |
            using Mailtrap;
            var client = new MailtrapClient("YOUR_API_KEY");
            var messageResource = client.Account(12345).Inbox(54321).Message(67890);
            var mailHeaders = await messageResource.GetHeaders();
            Console.WriteLine(mailHeaders.Headers);
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            var config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var client = MailtrapClientFactory.createMailtrapClient(config);
            var mailHeaders = client.testingApi().messages().getMailHeaders(ACCOUNT_ID, 12345L, 67890L);
            System.out.println(mailHeaders);
      operationId: getMailHeadersOfEmailMessage
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/attachments':
    get:
      summary: Get attachments
      description: Get message attachments by inbox_id and message_id.
      tags:
        - Attachments
      parameters:
        - name: attachment_type
          description: Attachment type
          in: query
          schema:
            type: string
          example: inline
      responses:
        '200':
          description: Lists attachments with their details and download paths.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    message_id:
                      type: integer
                    filename:
                      type: string
                    attachment_type:
                      type: string
                    content_type:
                      type: string
                    content_id:
                      type: string
                      nullable: true
                    transfer_encoding:
                      type: string
                      nullable: true
                    attachment_size:
                      type: integer
                    created_at:
                      type: string
                    updated_at:
                      type: string
                    attachment_human_size:
                      type: string
                    download_path:
                      type: string
              example:
                - id: 67
                  message_id: 457
                  filename: test.csv
                  attachment_type: inline
                  content_type: plain/text
                  content_id: null
                  transfer_encoding: null
                  attachment_size: 0
                  created_at: '2022-06-02T19:25:54.827Z'
                  updated_at: '2022-06-02T19:25:54.827Z'
                  attachment_human_size: 0 Bytes
                  download_path: /api/accounts/3831/inboxes/4394/messages/457/attachments/67/download
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: getInboxMessageAttachments
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const attachments = await client.testing.attachments.getList(67890, 12345);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            $config = new Config("YOUR_API_KEY");
            $sandboxAttachments = (new MailtrapSandboxClient($config))->attachments(12345, 67890);
            $response = $sandboxAttachments->getMessageAttachments(111111);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            attachments = client.testing_api.attachments.get_list(inbox_id=12345, message_id=67890)
        - lang: csharp
          label: C#
          source: |
            using Mailtrap;
            using Mailtrap.Attachments;
            var mailtrapClient = new MailtrapClient("YOUR_API_KEY");
            var attachmentsResource = mailtrapClient.Account(12345).Inbox(67890).Message(111111).Attachments();
            var attachments = await attachmentsResource.Fetch();
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            MailtrapConfig config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var testingClient = MailtrapClientFactory.createMailtrapClient(config).testingApi();
            var attachments = testingClient.attachments().getAttachments(12345L, 67890L, 111111L, null);
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
  '/api/accounts/{account_id}/inboxes/{inbox_id}/messages/{message_id}/attachments/{attachment_id}':
    get:
      summary: Get single attachment
      description: Get message single attachment by id.
      tags:
        - Attachments
      responses:
        '200':
          description: Returns attachment details and download path.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  message_id:
                    type: integer
                  filename:
                    type: string
                  attachment_type:
                    type: string
                  content_type:
                    type: string
                  content_id:
                    type: string
                    nullable: true
                  transfer_encoding:
                    type: string
                    nullable: true
                  attachment_size:
                    type: integer
                  created_at:
                    type: string
                  updated_at:
                    type: string
                  attachment_human_size:
                    type: string
                  download_path:
                    type: string
              example:
                id: 70
                message_id: 460
                filename: test.csv
                attachment_type: inline
                content_type: plain/text
                content_id: null
                transfer_encoding: null
                attachment_size: 0
                created_at: '2022-06-02T19:25:55.687Z'
                updated_at: '2022-06-02T19:25:55.687Z'
                attachment_human_size: 0 Bytes
                download_path: /api/accounts/3838/inboxes/4401/messages/460/attachments/70/download
        '401':
          $ref: '#/components/responses/UNAUTHENTICATED'
        '403':
          description: Returns forbidden error message. Check your permissions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: string
                    example: Inbox is not active or you have insufficient permissions
        '404':
          $ref: '#/components/responses/NOT_FOUND'
      operationId: getInboxMessageAttachment
      x-codeSamples:
        - lang: javascript
          label: Node.js
          source: |
            const { MailtrapClient } = require("mailtrap");
            const client = new MailtrapClient({ token: "YOUR_API_KEY", accountId: "YOUR_ACCOUNT_ID" });
            const attachment = await client.testing.attachments.get(12345, 67890, 222222);
        - lang: php
          label: PHP
          source: |
            <?php
            use Mailtrap\Config;
            use Mailtrap\MailtrapSandboxClient;
            $config = new Config("YOUR_API_KEY");
            $sandboxAttachments = (new MailtrapSandboxClient($config))->attachments(12345, 67890);
            $response = $sandboxAttachments->getMessageAttachment(111111, 222222);
        - lang: python
          label: Python
          source: |
            import mailtrap as mt
            client = mt.MailtrapClient(token="YOUR_API_KEY", account_id="YOUR_ACCOUNT_ID")
            attachment = client.testing_api.attachments.get(inbox_id=12345, message_id=67890, attachment_id=222222)
        - lang: csharp
          label: C#
          source: |
            using Mailtrap;
            using Mailtrap.Attachments;
            var mailtrapClient = new MailtrapClient("YOUR_API_KEY");
            var attachmentResource = mailtrapClient.Account(12345).Inbox(67890).Message(111111).Attachment(222222);
            var attachment = await attachmentResource.GetDetails();
        - lang: java
          label: Java
          source: |
            import io.mailtrap.config.MailtrapConfig;
            import io.mailtrap.factory.MailtrapClientFactory;
            MailtrapConfig config = new MailtrapConfig.Builder().token("YOUR_API_KEY").build();
            var testingClient = MailtrapClientFactory.createMailtrapClient(config).testingApi();
            var attachment = testingClient.attachments().getSingleAttachment(12345L, 67890L, 111111L, 222222L);
    parameters:
      - $ref: '#/components/parameters/account_id'
      - $ref: '#/components/parameters/inbox_id'
      - $ref: '#/components/parameters/message_id'
      - $ref: '#/components/parameters/attachment_id'
components:
  schemas:
    Inbox:
      $ref: '#/components/schemas/TestingInbox'
    InboxMessageWithoutBlacklistsReportInfo:
      title: Message without blacklists report
      type: object
      properties:
        id:
          type: integer
        inbox_id:
          type: integer
        subject:
          type: string
        sent_at:
          type: string
        from_email:
          type: string
        from_name:
          type: string
        to_email:
          type: string
        to_name:
          type: string
        email_size:
          type: integer
        is_read:
          type: boolean
        created_at:
          type: string
        updated_at:
          type: string
        html_body_size:
          type: integer
        text_body_size:
          type: integer
        human_size:
          type: string
        html_path:
          type: string
        txt_path:
          type: string
        raw_path:
          type: string
        download_path:
          type: string
        html_source_path:
          type: string
        blacklists_report_info:
          type: boolean
        smtp_information:
          type: object
          properties:
            ok:
              type: boolean
            data:
              type: object
              properties:
                mail_from_addr:
                  type: string
                client_ip:
                  type: string
    InboxMessageWithBlacklistsReportInfo:
      title: Message with blacklists report
      type: object
      properties:
        id:
          type: integer
        inbox_id:
          type: integer
        subject:
          type: string
        sent_at:
          type: string
        from_email:
          type: string
        from_name:
          type: string
        to_email:
          type: string
        to_name:
          type: string
        email_size:
          type: integer
        is_read:
          type: boolean
        created_at:
          type: string
        updated_at:
          type: string
        html_body_size:
          type: integer
        text_body_size:
          type: integer
        human_size:
          type: string
        html_path:
          type: string
        txt_path:
          type: string
        raw_path:
          type: string
        download_path:
          type: string
        html_source_path:
          type: string
        blacklists_report_info:
          type: object
          properties:
            result:
              type: string
              enum:
                - success
                - pending
                - error
            domain:
              type: string
            ip:
              type: string
            report:
              type: array
              items:
                type: object
                properties:
                  name:
                    type: string
                  url:
                    type: string
                  in_black_list:
                    type: boolean
        smtp_information:
          type: object
          properties:
            ok:
              type: boolean
            data:
              type: object
              properties:
                mail_from_addr:
                  type: string
                client_ip:
                  type: string
    Project:
      title: Testing Project
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        share_links:
          type: object
          properties:
            admin:
              type: string
            viewer:
              type: string
        inboxes:
          type: array
          items:
            nullable: true
            $ref: '#/components/schemas/TestingInbox'
        permissions:
          type: object
          properties:
            can_read:
              type: boolean
            can_update:
              type: boolean
            can_destroy:
              type: boolean
            can_leave:
              type: boolean
      example:
        id: 2388
        name: My New Project
        share_links:
          admin: 'https://localhost/projects/2388/share/QEVuQwEAS-hQfYV1hqw15p7p9VcsuCrASDQUkcuV_N5G-zdVBPrd58V8Ce09AUl-JGFEJsQbt-K6IzRIMhjpU7zxAnIo9QpB8mJwuOqBiottfwdDhgKO-ab7t7WDCyyoGeG5dLK_'
          viewer: 'https://localhost/projects/2388/share/QEVuQwEAS-hQfYV1hqw15p7p9VcsuCrASDQUkcuV_N5G-zdVBPrd58V8Ce09AUl-JGFEJsQbHDFqI6Mk2wRVlVSxLNMgI-3LnWpSSSyCSbjqkQRAMPVoTPYF7WcXfw4H_CwkAc4e'
        inboxes: []
        permissions:
          can_read: true
          can_update: true
          can_destroy: true
          can_leave: false
    EmailWithText:
      title: EmailWithText
      allOf:
        - $ref: '#/components/schemas/EmailSender'
        - $ref: '#/components/schemas/EmailRecipients'
        - $ref: '#/components/schemas/EmailReplyTo'
        - $ref: '#/components/schemas/EmailAttachments'
        - $ref: '#/components/schemas/EmailSendingHeaders'
        - $ref: '#/components/schemas/EmailCustomVariables'
        - $ref: '#/components/schemas/EmailSubject'
        - $ref: '#/components/schemas/EmailText'
        - $ref: '#/components/schemas/EmailHtml'
        - $ref: '#/components/schemas/EmailCategory'
      required:
        - from
        - subject
        - text
      example:
        to:
          - email: john_doe@example.com
            name: John Doe
        cc:
          - email: jane_doe@example.com
            name: Jane Doe
        bcc:
          - email: james_doe@example.com
            name: Jim Doe
        from:
          email: sales@example.com
          name: Example Sales Team
        reply_to:
          email: reply@example.com
          name: Reply
        attachments:
          - content: PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==
            filename: index.html
            type: text/html
            disposition: attachment
        custom_variables:
          user_id: '45982'
          batch_id: PSJ-12
        headers:
          X-Message-Source: dev.mydomain.com
        subject: Your Example Order Confirmation
        text: Congratulations on your order no. 1234
        category: API Test
    EmailWithHtml:
      title: EmailWithHtml
      allOf:
        - $ref: '#/components/schemas/EmailSender'
        - $ref: '#/components/schemas/EmailRecipients'
        - $ref: '#/components/schemas/EmailReplyTo'
        - $ref: '#/components/schemas/EmailAttachments'
        - $ref: '#/components/schemas/EmailSendingHeaders'
        - $ref: '#/components/schemas/EmailCustomVariables'
        - $ref: '#/components/schemas/EmailSubject'
        - $ref: '#/components/schemas/EmailText'
        - $ref: '#/components/schemas/EmailHtml'
        - $ref: '#/components/schemas/EmailCategory'
      required:
        - from
        - subject
        - html
      example:
        to:
          - email: john_doe@example.com
            name: John Doe
        cc:
          - email: jane_doe@example.com
            name: Jane Doe
        bcc:
          - email: james_doe@example.com
            name: Jim Doe
        from:
          email: sales@example.com
          name: Example Sales Team
        reply_to:
          email: reply@example.com
          name: Reply
        attachments:
          - content: PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==
            filename: index.html
            type: text/html
            disposition: attachment
        custom_variables:
          user_id: '45982'
          batch_id: PSJ-12
        headers:
          X-Message-Source: dev.mydomain.com
        subject: Your Example Order Confirmation
        html: <p>Congratulations on your order no. <strong>1234</strong>.</p>
        category: API Test
    EmailWithTextAndHtml:
      title: EmailWithTextAndHtml
      allOf:
        - $ref: '#/components/schemas/EmailSender'
        - $ref: '#/components/schemas/EmailRecipients'
        - $ref: '#/components/schemas/EmailReplyTo'
        - $ref: '#/components/schemas/EmailAttachments'
        - $ref: '#/components/schemas/EmailSendingHeaders'
        - $ref: '#/components/schemas/EmailCustomVariables'
        - $ref: '#/components/schemas/EmailSubject'
        - $ref: '#/components/schemas/EmailText'
        - $ref: '#/components/schemas/EmailHtml'
        - $ref: '#/components/schemas/EmailCategory'
      required:
        - from
        - subject
        - text
        - html
      example:
        to:
          - email: john_doe@example.com
            name: John Doe
        cc:
          - email: jane_doe@example.com
            name: Jane Doe
        bcc:
          - email: james_doe@example.com
            name: Jim Doe
        from:
          email: sales@example.com
          name: Example Sales Team
        reply_to:
          email: reply@example.com
          name: Reply
        attachments:
          - content: PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==
            filename: index.html
            type: text/html
            disposition: attachment
        custom_variables:
          user_id: '45982'
          batch_id: PSJ-12
        headers:
          X-Message-Source: dev.mydomain.com
        subject: Your Example Order Confirmation
        html: <p>Congratulations on your order no. <strong>1234</strong>.</p>
        text: Congratulations on your order no. 1234
        category: API Test
    EmailFromTemplate:
      title: EmailFromTemplate
      example:
        to:
          - email: john_doe@example.com
            name: John Doe
        cc:
          - email: jane_doe@example.com
            name: Jane Doe
        bcc:
          - email: james_doe@example.com
            name: Jim Doe
        from:
          email: sales@example.com
          name: Example Sales Team
        reply_to:
          email: reply@example.com
          name: Reply
        attachments:
          - content: PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==
            filename: index.html
            type: text/html
            disposition: attachment
        custom_variables:
          user_id: '45982'
          batch_id: PSJ-12
        headers:
          X-Message-Source: dev.mydomain.com
        template_uuid: b81aabcd-1a1e-41cf-91b6-eca0254b3d96
        template_variables:
          user.name: Jon Snow
          user.email: jon.snow@got.com
      allOf:
        - $ref: '#/components/schemas/EmailSender'
        - $ref: '#/components/schemas/EmailRecipients'
        - $ref: '#/components/schemas/EmailReplyTo'
        - $ref: '#/components/schemas/EmailAttachments'
        - $ref: '#/components/schemas/EmailSendingHeaders'
        - $ref: '#/components/schemas/EmailCustomVariables'
        - $ref: '#/components/schemas/TemplateUuid'
        - $ref: '#/components/schemas/TemplateVariables'
      required:
        - from
        - template_uuid
    BatchEmail:
      title: BatchEmail
      type: object
      properties:
        base:
          title: BatchEmailBase
          description: General properties of all emails in the batch. Each of them can be overridden in `requests` for individual emails.
          allOf:
            - $ref: '#/components/schemas/EmailSender'
            - $ref: '#/components/schemas/EmailReplyTo'
            - $ref: '#/components/schemas/EmailSubject'
            - $ref: '#/components/schemas/EmailText'
            - $ref: '#/components/schemas/EmailHtml'
            - $ref: '#/components/schemas/EmailAttachments'
            - $ref: '#/components/schemas/EmailSendingHeaders'
            - $ref: '#/components/schemas/EmailCategory'
            - $ref: '#/components/schemas/EmailCustomVariables'
            - $ref: '#/components/schemas/TemplateUuid'
            - $ref: '#/components/schemas/TemplateVariables'
        requests:
          description: 'The list of emails. Each of them requires recipients (one of `to`, `cc`, or `bcc`). Each email inherits properties from `base` but can override them.'
          type: array
          items:
            title: BatchEmailRequests
            allOf:
              - $ref: '#/components/schemas/EmailSender'
              - $ref: '#/components/schemas/EmailRecipients'
              - $ref: '#/components/schemas/EmailReplyTo'
              - $ref: '#/components/schemas/EmailSubject'
              - $ref: '#/components/schemas/EmailText'
              - $ref: '#/components/schemas/EmailHtml'
              - $ref: '#/components/schemas/EmailAttachments'
              - $ref: '#/components/schemas/EmailSendingHeaders'
              - $ref: '#/components/schemas/EmailCategory'
              - $ref: '#/components/schemas/EmailCustomVariables'
              - $ref: '#/components/schemas/TemplateUuid'
              - $ref: '#/components/schemas/TemplateVariables'
      required:
        - requests
      example:
        base:
          from:
            email: sales@example.com
            name: Example Sales Team
          reply_to:
            email: reply@example.com
            name: Reply
          attachments:
            - content: PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==
              filename: index.html
              type: text/html
              disposition: attachment
          headers:
            X-Message-Source: dev.mydomain.com
          subject: Your Example Order Confirmation
          text: Congratulations on your order no. 1234
          category: API Test
        requests:
          - to:
              - email: john_doe@example.com
                name: John Doe
            custom_variables:
              user_id: '45982'
              batch_id: PSJ-12
          - to:
              - email: jane_doe@example.com
                name: Jane Doe
            custom_variables:
              user_id: '12345'
              batch_id: PSJ-12
    Address:
      title: Address
      x-stoplight:
        id: 3c0b572130b6e
      type: object
      properties:
        email:
          type: string
          example: mike@mailtrap.io
        name:
          type: string
          example: Mike
    BatchSentResponse:
      title: BatchSentResponse
      type: object
      properties:
        success:
          description: |
            Indicates whether the was a general error. When false, you should check the `errors` array for information. When true, you should check individual message `responses` and their `success`.
          type: boolean
          example: true
        responses:
          description: Individual message responses. The results are ordered the same as the original messages - `requests`.
          type: array
          items:
            type: object
            properties:
              success:
                type: boolean
                example: true
              message_ids:
                description: 'An array of message IDs, one per recipient, in order of To, Cc, Bcc.'
                type: array
                items:
                  type: string
                  example: 0c7fd939-02cf-11ed-88c2-0a58a9feac02
              errors:
                type: array
                items:
                  type: string
        errors:
          description: General request errors.
          type: array
          items:
            type: string
    EmailAttachments:
      title: EmailAttachments
      type: object
      properties:
        attachments:
          type: array
          description: An array of objects where you can specify any attachments you want to include.
          items:
            type: object
            properties:
              content:
                type: string
                description: The Base64 encoded content of the attachment.
                minLength: 1
              type:
                type: string
                description: 'The MIME type of the content you are attaching (e.g., `text/plain` or `text/html`).'
                minLength: 1
              filename:
                type: string
                description: The attachment's filename.
              disposition:
                type: string
                default: attachment
                description: 'The attachment''s content-disposition, specifying how you would like the attachment to be displayed. For example, `inline` results in the attached file are displayed automatically within the message while `attachment` results in the attached file require some action to be taken before it is displayed, such as opening or downloading the file.'
                enum:
                  - inline
                  - attachment
              content_id:
                type: string
                description: 'The attachment''s content ID. This is used when the disposition is set to `inline` and the attachment is an image, allowing the file to be displayed within the body of your email.'
            required:
              - content
              - filename
    EmailCategory:
      title: EmailCategory
      type: object
      properties:
        category:
          type: string
          maxLength: 255
    EmailCustomVariables:
      title: EmailCustomVariables
      type: object
      properties:
        custom_variables:
          description: Values that are specific to the entire send that will be carried along with the email and its activity data. Total size of custom variables in JSON form must not exceed 1000 bytes.
          type: object
          additionalProperties:
            type: string
    EmailHtml:
      title: EmailHtml
      type: object
      properties:
        html:
          type: string
          description: HTML version of the body of the email. Can be used along with `text` to create a fallback for non-html clients. Required in the absence of `text`.
          minLength: 1
    EmailRecipients:
      title: EmailRecipients
      type: object
      properties:
        to:
          type: array
          maxItems: 1000
          items:
            $ref: '#/components/schemas/Address'
        cc:
          type: array
          maxItems: 1000
          items:
            $ref: '#/components/schemas/Address'
        bcc:
          type: array
          description: An array of recipients who will receive a blind carbon copy of your email. Each object in this array must contain the recipient's email address. Each object in the array may optionally contain the recipient's name.
          maxItems: 1000
          items:
            $ref: '#/components/schemas/Address'
    EmailReplyTo:
      title: EmailReplyTo
      type: object
      properties:
        reply_to:
          $ref: '#/components/schemas/Address'
    EmailSender:
      title: EmailSender
      type: object
      properties:
        from:
          $ref: '#/components/schemas/Address'
    EmailSendingHeaders:
      title: EmailSendingHeaders
      type: object
      properties:
        headers:
          description: An object containing key/value pairs of header names and the value to substitute for them. The key/value pairs must be strings. You must ensure these are properly encoded if they contain unicode characters. These headers cannot be one of the reserved headers. `Content-Transfer-Encoding` header will be ignored and replaced with `quoted-printable`.
          type: object
          additionalProperties:
            type: string
    EmailSubject:
      title: EmailSubject
      type: object
      properties:
        subject:
          type: string
          description: The global or 'message level' subject of your email. This may be overridden by subject lines set in personalizations.
          minLength: 1
    EmailText:
      title: EmailText
      type: object
      properties:
        text:
          type: string
          description: Text version of the body of the email. Can be used along with `html` to create a fallback for non-html clients. Required in the absence of `html`.
          minLength: 1
    NotFoundResponse:
      title: NotFoundResponse
      type: object
      properties:
        error:
          type: string
          description: Error message
          example: Not Found
    PermissionsDeniedResponse:
      title: PermissionsDeniedResponse
      type: object
      properties:
        errors:
          type: string
          description: Error message
          example: Access forbidden
    SendEmailErrorResponse:
      title: SendEmailErrorResponse
      type: object
      properties:
        success:
          type: boolean
        errors:
          type: array
          items:
            type: string
    SentResponse:
      title: SentResponse
      type: object
      properties:
        success:
          type: boolean
          example: true
        message_ids:
          description: 'An array of message IDs, one per recipient, in order of To, Cc, Bcc'
          type: array
          items:
            type: string
            example: 0c7fd939-02cf-11ed-88c2-0a58a9feac02
    TemplateUuid:
      type: object
      properties:
        template_uuid:
          type: string
          minLength: 1
          format: uuid
          description: |-
            UUID of email template.
            Subject, text and html will be generated from template using optional template_variables.
            If template_uuid is provided then subject, text and html params are forbidden.
    TemplateVariables:
      type: object
      properties:
        template_variables:
          type: object
          description: 'Optional template variables that will be used to generate actual subject, text and html from email template'
    TestingInbox:
      title: Testing Inbox
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        username:
          type: string
        password:
          type: string
          nullable: true
          description: Password is only available if you have admin permissions for the inbox.
        max_size:
          type: integer
        status:
          type: string
          enum:
            - active
            - inactive
            - pending
        email_username:
          type: string
        email_username_enabled:
          type: boolean
        sent_messages_count:
          type: integer
        forwarded_messages_count:
          type: integer
        used:
          type: boolean
        forward_from_email_address:
          type: string
        project_id:
          type: integer
        domain:
          type: string
        pop3_domain:
          type: string
        email_domain:
          type: string
        api_domain:
          type: string
        emails_count:
          type: integer
        emails_unread_count:
          type: integer
        last_message_sent_at:
          nullable: true
          type: string
        smtp_ports:
          type: array
          items:
            type: integer
        pop3_ports:
          type: array
          items:
            type: integer
        max_message_size:
          type: integer
        permissions:
          type: object
          properties:
            can_read:
              type: boolean
            can_update:
              type: boolean
            can_destroy:
              type: boolean
            can_leave:
              type: boolean
      example:
        id: 3538
        name: Admin Inbox
        username: b3a87978452ae1
        password: 6be9fcfc613a7c
        max_size: 0
        status: active
        email_username: b7eae548c3-54c542
        email_username_enabled: false
        sent_messages_count: 52
        forwarded_messages_count: 0
        used: false
        forward_from_email_address: a3538-i4088@forward.mailtrap.info
        project_id: 2293
        domain: localhost
        pop3_domain: localhost
        email_domain: localhost
        api_domain: localhost
        emails_count: 0
        emails_unread_count: 0
        last_message_sent_at: null
        smtp_ports:
          - 25
          - 465
          - 587
          - 2525
        pop3_ports:
          - 1100
          - 9950
        max_message_size: 5242880
        permissions:
          can_read: true
          can_update: true
          can_destroy: true
          can_leave: true
    UnauthenticatedResponse:
      title: UnauthenticatedResponse
      type: object
      properties:
        error:
          type: string
          description: Error message
          example: Incorrect API token
  examples:
    Projects:
      summary: List of projects
      value:
        - id: 2435
          name: Viewer Project
          inboxes: []
          permissions:
            can_read: true
            can_update: false
            can_destroy: false
            can_leave: true
        - id: 2436
          name: Admin Project
          share_links:
            admin: 'https://localhost/projects/2436/share/QEVuQwEAYWN-NIhmrB8qX6ZWzToqdOE9dw1ylIfOQ-_fKwYAD_CCkhRzmAanker219x25PM75TBaHgx1I4dsv058hghY_Ewaa3Vt7ET1aeg3ufVcit919V4baPLzxV9JaRzXWSjK'
            viewer: 'https://localhost/projects/2436/share/QEVuQwEAYWN-NIhmrB8qX6ZWzToqdOE9dw1ylIfOQ-_fKwYAD_CCkhRzmAanker219x25PM7YSu12_li4QtOGl363syqCpKX7vlXvIub7b_V1BU2qypVHfspL7qfSIja0edd7hSh'
          inboxes:
            - id: 3874
              name: Admin Inbox
              username: f796d276ca4d13
              password: 293caeb0f100e4
              max_size: 0
              status: active
              email_username: bcf11679c1-ad3171
              email_username_enabled: false
              sent_messages_count: 316
              forwarded_messages_count: 0
              used: false
              forward_from_email_address: a3343-i3874@forward.mailtrap.info
              project_id: 2436
              domain: localhost
              pop3_domain: localhost
              email_domain: localhost
              emails_count: 0
              emails_unread_count: 0
              last_message_sent_at: null
              smtp_ports:
                - 25
                - 465
                - 587
                - 2525
              pop3_ports:
                - 1100
                - 9950
              max_message_size: 5242880
              permissions:
                can_read: true
                can_update: true
                can_destroy: true
                can_leave: false
          permissions:
            can_read: true
            can_update: true
            can_destroy: true
            can_leave: true
    Project:
      summary: Project with inbox
      value:
        id: 2436
        name: Admin Project
        share_links:
          admin: 'https://localhost/projects/2436/share/QEVuQwEAYWN-NIhmrB8qX6ZWzToqdOE9dw1ylIfOQ-_fKwYAD_CCkhRzmAanker219x25PM75TBaHgx1I4dsv058hghY_Ewaa3Vt7ET1aeg3ufVcit919V4baPLzxV9JaRzXWSjK'
          viewer: 'https://localhost/projects/2436/share/QEVuQwEAYWN-NIhmrB8qX6ZWzToqdOE9dw1ylIfOQ-_fKwYAD_CCkhRzmAanker219x25PM7YSu12_li4QtOGl363syqCpKX7vlXvIub7b_V1BU2qypVHfspL7qfSIja0edd7hSh'
        inboxes:
          - id: 3874
            name: Admin Inbox
            username: f796d276ca4d13
            password: 293caeb0f100e4
            max_size: 0
            status: active
            email_username: bcf11679c1-ad3171
            email_username_enabled: false
            sent_messages_count: 316
            forwarded_messages_count: 0
            used: false
            forward_from_email_address: a3343-i3874@forward.mailtrap.info
            project_id: 2436
            domain: localhost
            pop3_domain: localhost
            email_domain: localhost
            emails_count: 0
            emails_unread_count: 0
            last_message_sent_at: null
            smtp_ports:
              - 25
              - 465
              - 587
              - 2525
            pop3_ports:
              - 1100
              - 9950
            max_message_size: 5242880
            permissions:
              can_read: true
              can_update: true
              can_destroy: true
              can_leave: false
        permissions:
          can_read: true
          can_update: true
          can_destroy: true
          can_leave: true
    Inboxes:
      summary: List of inboxes
      value:
        - id: 3538
          name: Admin Inbox
          username: b3a87978452ae1
          password: 6be9fcfc613a7c
          max_size: 0
          status: active
          email_username: b7eae548c3-54c542
          email_username_enabled: false
          sent_messages_count: 52
          forwarded_messages_count: 0
          used: false
          forward_from_email_address: a3538-i4088@forward.mailtrap.info
          project_id: 2293
          domain: localhost
          pop3_domain: localhost
          email_domain: localhost
          emails_count: 0
          emails_unread_count: 0
          last_message_sent_at: null
          smtp_ports:
            - 25
            - 465
            - 587
            - 2525
          pop3_ports:
            - 1100
            - 9950
          max_message_size: 5242880
          permissions:
            can_read: true
            can_update: true
            can_destroy: true
            can_leave: true
        - id: 4089
          name: Viewer Inbox
          username: 1d0aa0282f7712
          password: 5667a20f611ae7
          max_size: 0
          status: active
          email_username: f25402f8df-b77899
          email_username_enabled: false
          sent_messages_count: 527
          forwarded_messages_count: 0
          used: false
          forward_from_email_address: a3538-i4089@forward.mailtrap.info
          project_id: 2293
          domain: localhost
          pop3_domain: localhost
          email_domain: localhost
          emails_count: 0
          emails_unread_count: 0
          last_message_sent_at: null
          smtp_ports:
            - 25
            - 465
            - 587
            - 2525
          pop3_ports:
            - 1100
            - 9950
          max_message_size: 5242880
          permissions:
            can_read: true
            can_update: false
            can_destroy: false
            can_leave: true
  securitySchemes:
    HeaderAuth:
      type: apiKey
      description: Pass the API token in the Api-Token
      in: header
      name: Api-Token
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    UNAUTHENTICATED:
      description: Returns unauthorized error message. Check your credentials.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UnauthenticatedResponse'
    PERMISSION_DENIED:
      description: Returns forbidden error message. Check your permissions.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PermissionsDeniedResponse'
    NOT_FOUND:
      description: Returns not found error message
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NotFoundResponse'
    ProjectsResponse:
      description: |-
        Lists project attributes and inboxes of this project with their attributes.
        - **permissions** returns the permissions of the token for the project
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Project'
          examples:
            ProjectsList:
              $ref: '#/components/examples/Projects'
    ProjectResponse:
      description: Returns project details
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Project'
    UpdateProjectResponse:
      description: Returns updated project details
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Project'
          examples:
            Project:
              $ref: '#/components/examples/Project'
    InboxesResponse:
      description: |-
        Returns the list of inboxes in the account to which the API token has access.
        - **permissions** returns the permissions of the token for the inbox.
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TestingInbox'
          examples:
            InboxesList:
              $ref: '#/components/examples/Inboxes'
    InboxResponse:
      description: |-
        Returns attributes of the inbox.
        - **permissions** returns the permissions of the token for the inbox.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TestingInbox'
  parameters:
    account_id:
      description: Unique account ID
      name: account_id
      in: path
      required: true
      schema:
        type: integer
        format: int64
        minimum: 1
        example: 3229
    inbox_id:
      description: Unique inbox ID
      name: inbox_id
      in: path
      required: true
      schema:
        type: integer
        format: int64
        minimum: 1
        example: 4015
    message_id:
      description: Unique message ID
      name: message_id
      in: path
      required: true
      schema:
        type: integer
        format: int64
        minimum: 1
        example: 427
    attachment_id:
      name: attachment_id
      description: Unique attachment ID
      in: path
      required: true
      schema:
        type: integer
        format: int64
        minimum: 1
        example: 1591
    project_id:
      name: project_id
      description: Unique project ID
      in: path
      required: true
      schema:
        type: integer
        format: int64
        minimum: 1
        example: 4032
